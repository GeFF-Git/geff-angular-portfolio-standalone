<header class="header" [class.scrolled]="isScrolled" #header>
  <div class="header-container">
    <!-- Brand/Logo Section -->
    <div class="header-brand">
      <button (click)="scrollToSection('home')" class="brand-link">
        <h1 class="brand-name">Geff Shelby</h1>
        <span class="brand-tagline">Full Stack Developer</span>
      </button>
    </div>

    <!-- Desktop Navigation -->
    @if (!breakpointSignal()) {
    <nav class="desktop-nav">
      <div class="nav-links">
        @for(link of navLinks; track link.id){
        <button (click)="scrollToSection(link.id)" class="nav-link" [class.active]="activeSection === link.id"
          [attr.data-section]="link.id">
          {{ link.label }}
        </button>
        }
      </div>
    </nav>
    }

    <!-- Mobile Menu Toggle -->
    @else{
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [attr.aria-label]="'Toggle mobile menu'">
      @for(line of hamburgerLines; track $index){
      <span class="hamburger-line line-{{$index}}" [class.active]="isMobileMenuOpen"></span>
      }
    </button>
    }

    <!-- Action Buttons -->
    <div class="header-actions">
      <a href="https://www.linkedin.com/in/geoffrey-jebasekar-5b84371b2/" class="cta-button-social">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M22.23 0H1.77C.792 0 0 .774 0 1.727v20.545C0 23.225.792 24 1.77 24h20.46c.978 0 1.77-.775 1.77-1.728V1.727C24 .774 23.208 0 22.23 0zM7.09 20.452H3.56V9h3.53v11.452zM5.326 7.433a2.042 2.042 0 1 1 0-4.085 2.042 2.042 0 0 1 0 4.085zM20.452 20.452h-3.525v-5.59c0-1.333-.025-3.05-1.86-3.05-1.86 0-2.145 1.45-2.145 2.95v5.69h-3.53V9h3.39v1.56h.05c.472-.89 1.62-1.83 3.335-1.83 3.566 0 4.22 2.35 4.22 5.4v6.322z" />
        </svg>
        LinkedIn
      </a>
      <a download="" href="./../../../assets/Geoffrey_Jebasekar_Resume.pdf" class="cta-button"
        [attr.aria-label]="'Download Resume'">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 15.577l-3.538-3.539-1.414 1.414L12 18.404l4.952-4.952-1.414-1.414L12 15.577z" />
          <path d="M17 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 5h10v14H7V5z" />
        </svg>
        Resume
      </a>
    </div>


  </div>

  <!-- Mobile Navigation Overlay -->
  @if(breakpointSignal()){
  <div class="mobile-nav-overlay" [class.open]="isMobileMenuOpen" (click)="closeMobileMenu()">
    <nav class="mobile-nav" (click)="$event.stopPropagation()">
      <div class="mobile-nav-header">
        <h2 class="mobile-brand-name">Geff Shelby</h2>
        <button class="mobile-close" (click)="closeMobileMenu()" [attr.aria-label]="'Close menu'">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
          </svg>
        </button>
      </div>

      <div class="mobile-nav-links">
        <button *ngFor="let link of mobileNavLinks" (click)="scrollToSection(link.id); closeMobileMenu()"
          class="mobile-nav-link" [class.active]="activeSection === link.id"
          [class.contact-link]="link.id === 'contact'" [attr.data-section]="link.id">
          <span class="link-icon">{{ link.icon }}</span>
          {{ link.label }}
        </button>
      </div>

      <div class="mobile-nav-footer">
        <a href="https://www.linkedin.com/in/geoffrey-jebasekar-5b84371b2/" class="mobile-social-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M22.23 0H1.77C.792 0 0 .774 0 1.727v20.545C0 23.225.792 24 1.77 24h20.46c.978 0 1.77-.775 1.77-1.728V1.727C24 .774 23.208 0 22.23 0zM7.09 20.452H3.56V9h3.53v11.452zM5.326 7.433a2.042 2.042 0 1 1 0-4.085 2.042 2.042 0 0 1 0 4.085zM20.452 20.452h-3.525v-5.59c0-1.333-.025-3.05-1.86-3.05-1.86 0-2.145 1.45-2.145 2.95v5.69h-3.53V9h3.39v1.56h.05c.472-.89 1.62-1.83 3.335-1.83 3.566 0 4.22 2.35 4.22 5.4v6.322z" />
          </svg>
          LinkedIn
        </a>
        <a download="" href="./../../../assets/Geoffrey_Jebasekar_Resume.pdf" class="mobile-download-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 15.577l-3.538-3.539-1.414 1.414L12 18.404l4.952-4.952-1.414-1.414L12 15.577z" />
            <path d="M17 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 5h10v14H7V5z" />
          </svg>
          Download Resume
        </a>
      </div>
    </nav>
  </div>
  }
</header>